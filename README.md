# üöÄ Vectorial Profiler üéÆ

[![Python Version][python-shield]][python-url]
[![License: MIT][license-shield]][license-url]
[![Build Status][build-shield]][build-url]
[![Docker Pulls][docker-pulls-shield]][docker-hub-url]
[![Docker Image Size][docker-size-shield]][docker-hub-url]
[![Code Style: Black][code-style-shield]][code-style-url]
<!-- Add more relevant badges as needed -->

**Autor:** [Elias Andrade (chaos4455)][author-github-url] - Arquiteto de Solu√ß√µes de IA üß†

**Reposit√≥rio:** [chaos4455/vectorial-profiler][repo-url]

---

## üìñ Sum√°rio

1.  [üéØ Vis√£o Geral](#-vis√£o-geral)
2.  [‚ú® Funcionalidades Chave](#-funcionalidades-chave)
3.  [üõ†Ô∏è Tecnologias e Arquitetura](#Ô∏è-tecnologias-e-arquitetura)
    *   [Stack Tecnol√≥gico](#stack-tecnol√≥gico-)
    *   [Diagrama de Arquitetura (Conceitual)](#diagrama-de-arquitetura-conceitual-)
    *   [Fluxo de Dados](#fluxo-de-dados-)
4.  [üìÅ Estrutura do Projeto Detalhada](#-estrutura-do-projeto-detalhada)
5.  [üíæ Banco de Dados](#-banco-de-dados)
    *   [Esquema (Simplificado)](#esquema-simplificado)
    *   [Observa√ß√µes sobre Vers√µes](#observa√ß√µes-sobre-vers√µes)
6.  [‚öôÔ∏è Configura√ß√£o e Instala√ß√£o](#Ô∏è-configura√ß√£o-e-instala√ß√£o)
    *   [Pr√©-requisitos](#pr√©-requisitos)
    *   [Instala√ß√£o Local (Desenvolvimento)](#instala√ß√£o-local-desenvolvimento-)
    *   [Instala√ß√£o via Docker (Recomendado)](#instala√ß√£o-via-docker-recomendado-)
7.  [‚ñ∂Ô∏è Como Executar](#Ô∏è-como-executar)
    *   [Execu√ß√£o Local](#execu√ß√£o-local)
    *   [Execu√ß√£o com Docker](#execu√ß√£o-com-docker)
    *   [Acessando o Dashboard](#acessando-o-dashboard-)
8.  [üî¨ Explica√ß√£o dos Scripts Principais](#-explica√ß√£o-dos-scripts-principais)
    *   [Gera√ß√£o de Perfis (`geraprofiles*.py`)](#gera√ß√£o-de-perfis-geraprofilespy)
    *   [Vetoriza√ß√£o (`vectorizerv1.py`)](#vetoriza√ß√£o-vectorizerv1py)
    *   [Match Profiler & Dashboard (`match-profiler*.py`)](#match-profiler--dashboard-match-profilerpy)
    *   [Visualiza√ß√£o 3D (`data-cubic-viz-v1.py`)](#visualiza√ß√£o-3d-data-cubic-viz-v1py)
    *   [Dashboard de Logs (`log-dashboard-real-time*.py`)](#dashboard-de-logs-log-dashboard-real-timepy)
    *   [Gera√ß√£o de Documenta√ß√£o (`docgen*.py`)](#gera√ß√£o-de-documenta√ß√£o-docgenpy)
    *   [Gera√ß√£o de Heatmap (`heathmap-data-gen*.py`)](#gera√ß√£o-de-heatmap-heathmap-data-genpy)
    *   [Scripts Auxiliares (`doc-footer-cleaner.py`)](#scripts-auxiliares-doc-footer-cleanerpy)
9.  [üê≥ Dockeriza√ß√£o Detalhada](#-dockeriza√ß√£o-detalhada)
    *   [Dockerfile Din√¢mico](#dockerfile-din√¢mico)
    *   [Supervisor (`supervisord.conf`)](#supervisor-supervisordconf)
    *   [Processos Gerenciados](#processos-gerenciados)
10. [üîÑ CI/CD com GitHub Actions](#-cicd-com-github-actions)
    *   [Workflow: `‚öôÔ∏è Vectorial Profiler - Docker Build and Runtime Validation`](#workflow-Ô∏è-vectorial-profiler---docker-build-and-runtime-validation)
    *   [Etapas do Workflow](#etapas-do-workflow)
11. [üîå Endpoints da API (Inferido/Exemplo)](#-endpoints-da-api-inferidoexemplo)
12. [‚ö†Ô∏è Pontos de Aten√ß√£o e Pr√≥ximos Passos](#Ô∏è-pontos-de-aten√ß√£o-e-pr√≥ximos-passos)
13. [ü§ù Contribui√ß√£o](#-contribui√ß√£o)
14. [üìú Licen√ßa](#-licen√ßa)
15. [üìû Contato](#-contato)

---

## üéØ Vis√£o Geral

> O **Vectorial Profiler** √© uma solu√ß√£o avan√ßada de an√°lise e visualiza√ß√£o de perfis de usu√°rios (inicialmente focada em jogadores üéÆ), concebida e desenvolvida por [Elias Andrade (chaos4455)][author-github-url], Arquiteto de Solu√ß√µes de IA. O projeto utiliza t√©cnicas de **Intelig√™ncia Artificial**, **Processamento de Linguagem Natural (NLP)** e **Aprendizado de M√°quina** para transformar dados de perfis em representa√ß√µes vetoriais significativas (embeddings).

**Objetivo Principal:** Facilitar a **descoberta de similaridades**, a **identifica√ß√£o de padr√µes** e a **forma√ß√£o de comunidades** ou **matches** entre usu√°rios. Isso √© alcan√ßado atrav√©s de:

1.  **C√°lculo de Similaridade Vetorial:** Utilizando embeddings para capturar nuances sem√¢nticas nos dados dos perfis (interesses, descri√ß√µes, gostos musicais, jogos, etc.).
2.  **Redu√ß√£o de Dimensionalidade (PCA):** Projetando os vetores de alta dimensionalidade em um espa√ßo 3D para visualiza√ß√£o intuitiva.
3.  **Clustering (KMeans + FAISS):** Agrupando perfis semelhantes de forma eficiente, mesmo com grandes volumes de dados.
4.  **Visualiza√ß√µes Interativas:** Oferecendo dashboards web e gr√°ficos 3D (Plotly) para explorar as rela√ß√µes entre os perfis.

Este projeto n√£o √© apenas uma ferramenta de an√°lise, mas uma plataforma robusta com foco em **escalabilidade**, **monitoramento** e **automa√ß√£o** (demonstrado pela Dockeriza√ß√£o e pipeline de CI/CD). √â um exemplo pr√°tico de aplica√ß√£o de t√©cnicas de IA e engenharia de software moderna para resolver problemas complexos de an√°lise de dados e matchmaking.

---

## ‚ú® Funcionalidades Chave

O Vectorial Profiler oferece um conjunto rico de funcionalidades:

*   ‚úÖ **An√°lise de Similaridade Customizada:** Calcula scores de similaridade entre perfis considerando m√∫ltiplos atributos (interesses textuais via embeddings, prefer√™ncias categ√≥ricas, disponibilidade, etc.) de forma ponderada e configur√°vel.
*   üß¨ **Gera√ß√£o de Vetores e Embeddings:**
    *   Transforma dados textuais (descri√ß√µes, interesses) em vetores densos usando modelos de `sentence-transformers` (NLP).
    *   Combina vetores textuais com representa√ß√µes num√©ricas de outros atributos para criar um *embedding* completo do perfil.
*   üìâ **Redu√ß√£o de Dimensionalidade com PCA:** Aplica Principal Component Analysis (PCA) da `scikit-learn` para reduzir a dimensionalidade dos embeddings, permitindo a visualiza√ß√£o em 2D ou 3D sem perda excessiva de informa√ß√£o sobre a vari√¢ncia dos dados.
*   üß© **Clustering Eficiente com KMeans e FAISS:** Utiliza o algoritmo KMeans para agrupar perfis similares. A integra√ß√£o com `faiss` (Facebook AI Similarity Search) permite otimizar a busca por centr√≥ides e vizinhos, tornando o processo eficiente para grandes datasets.
*   üìä **Visualiza√ß√£o Interativa em 3D:** Gera gr√°ficos 3D interativos usando `plotly`, onde cada ponto representa um perfil. A posi√ß√£o no espa√ßo 3D reflete a similaridade (ap√≥s PCA), e os clusters podem ser visualizados com cores distintas. Permite zoom, rota√ß√£o e hover para inspe√ß√£o de perfis individuais.
*   üñ•Ô∏è **Dashboard Web Interativo:** Uma interface web (desenvolvida com `Flask` e `FastAPI` em diferentes vers√µes) para:
    *   Visualizar perfis e clusters.
    *   Buscar perfis espec√≠ficos.
    *   Encontrar os perfis mais similares (matches) para um dado perfil.
    *   Explorar os dados de forma amig√°vel, com suporte a temas visuais.
*   üñºÔ∏è **Gera√ß√£o de Imagens de Similaridade:** Cria representa√ß√µes visuais (heatmaps ou outras visualiza√ß√µes em PNG via `Pillow`) mostrando a matriz de similaridade ou rela√ß√µes espec√≠ficas entre perfis.
*   ‚è±Ô∏è **Monitoramento de Logs em Tempo Real:** Implementa um dashboard dedicado (usando `Flask/FastAPI` e possivelmente WebSockets ou Server-Sent Events) para visualizar os logs da aplica√ß√£o em tempo real, facilitando o debugging e monitoramento da sa√∫de do sistema.
*   üë§ **Gera√ß√£o de Perfis Sint√©ticos:** Utiliza a biblioteca `faker` para criar dados de perfis de jogadores realistas, essenciais para testes, demonstra√ß√µes e desenvolvimento inicial sem depender de dados reais.
*   üê≥ **Containeriza√ß√£o com Docker:** O projeto √© totalmente containerizado, garantindo um ambiente de execu√ß√£o consistente e facilitando o deploy.
*   üîÑ **Automa√ß√£o de Build e Teste com GitHub Actions:** Um pipeline de CI/CD configurado para construir a imagem Docker, testar sua execu√ß√£o e public√°-la no Docker Hub a cada push na branch `main`.

---

## üõ†Ô∏è Tecnologias e Arquitetura

Este projeto combina um stack de tecnologias Python robusto com pr√°ticas modernas de desenvolvimento e DevOps.

### Stack Tecnol√≥gico üìö

*   **Linguagem Principal:**
    *   ![Python][python-shield] (`Python 3.10+`)
*   **Bibliotecas Core de IA/ML/Dados:**
    *   `numpy`: Computa√ß√£o num√©rica fundamental.
    *   `pandas`: Manipula√ß√£o e an√°lise de dados tabulares.
    *   `scikit-learn`: Implementa√ß√£o de PCA e outras ferramentas de machine learning.
    *   `faiss-cpu` / `faiss-gpu`: Busca de similaridade em alta velocidade (essencial para clustering e matching em larga escala).
    *   `sentence-transformers`: Gera√ß√£o de embeddings de texto de alta qualidade (estado da arte em NLP).
*   **Visualiza√ß√£o:**
    *   `plotly`: Cria√ß√£o de gr√°ficos interativos 2D e 3D para web.
    *   `matplotlib` / `seaborn` (Possivelmente usados nos scripts de heatmap): Visualiza√ß√µes est√°ticas.
    *   `Pillow (PIL)`: Manipula√ß√£o e gera√ß√£o de imagens (PNGs de similaridade).
*   **Banco de Dados:**
    *   `sqlite3`: Banco de dados relacional leve, embarcado, usado para armazenamento persistente de perfis, embeddings e resultados de clustering.
*   **Web Frameworks & Servidores:**
    *   `Flask`: Microframework web para cria√ß√£o de APIs e dashboards (usado nas vers√µes iniciais/v2/v3).
    *   `FastAPI`: Framework web moderno e de alta performance para APIs (usado em vers√µes mais recentes, ex: `match-profilerv3-...-fastapi.py`).
    *   `waitress`: Servidor WSGI para produ√ß√£o em ambientes Windows/Linux (alternativa ao Gunicorn/Uvicorn).
    *   `Flask-Cors`: Lida com Cross-Origin Resource Sharing nas APIs Flask.
*   **Utilit√°rios & Outros:**
    *   `rich`: Formata√ß√£o rica e visualmente agrad√°vel de sa√≠das no console.
    *   `faker`: Gera√ß√£o de dados fict√≠cios para testes e popula√ß√£o inicial.
    *   `requests`: Realiza√ß√£o de requisi√ß√µes HTTP (potencialmente para APIs externas ou comunica√ß√£o interna).
    *   `colorama`: Adiciona cores √† sa√≠da do terminal (cross-platform).
    *   `psutil`: Acesso a informa√ß√µes do sistema e processos (√∫til para monitoramento).
    *   `schedule`: Agendamento de tarefas em Python (potencialmente para jobs peri√≥dicos).
*   **DevOps & Automa√ß√£o:**
    *   `Docker`: Containeriza√ß√£o da aplica√ß√£o e suas depend√™ncias.
    *   `Supervisor`: Gerenciador de processos para rodar e monitorar os servi√ßos Python dentro do container.
    *   `GitHub Actions`: Automa√ß√£o de CI/CD (build, teste, push da imagem Docker).


vectorial-profiler/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ main.yml             # üîÑ Workflow do GitHub Actions para CI/CD
‚îú‚îÄ‚îÄ databases_v3/                # üíæ Diret√≥rio para bancos de dados SQLite (Vers√£o 3)
‚îÇ   ‚îî‚îÄ‚îÄ ... (arquivos .db, .db-shm, .db-wal)
‚îú‚îÄ‚îÄ databases_v6/                # üíæ Diret√≥rio para bancos de dados SQLite (Vers√£o 6 - Mais Recente?)
‚îÇ   ‚îú‚îÄ‚îÄ clusters_perfis_v6.db      # Provavelmente armazena perfis e clusters
‚îÇ   ‚îú‚îÄ‚îÄ clusters_perfis_v6.db-shm  # Arquivo de mem√≥ria compartilhada do SQLite
‚îÇ   ‚îî‚îÄ‚îÄ clusters_perfis_v6.db-wal  # Arquivo de write-ahead logging do SQLite
‚îÇ   ‚îî‚îÄ‚îÄ embeddings_v6.db       # Provavelmente armazena embeddings
‚îÇ   ‚îî‚îÄ‚îÄ ... (outros poss√≠veis dbs)
‚îú‚îÄ‚îÄ img-data-outputs/            # üñºÔ∏è Diret√≥rio para imagens geradas (heatmaps, etc.)
‚îÇ   ‚îî‚îÄ‚îÄ ... (arquivos .png)
‚îú‚îÄ‚îÄ .gitignore                   # Arquivos/diret√≥rios a serem ignorados pelo Git
‚îú‚îÄ‚îÄ data-cubic-viz-v1.py         # üßä Script para gerar visualiza√ß√£o 3D interativa (Plotly) - Vers√£o 1
‚îú‚îÄ‚îÄ doc-footer-cleaner - Copy.py # üßπ Script auxiliar (c√≥pia) - Provavelmente para limpar HTML gerado
‚îú‚îÄ‚îÄ doc-footer-cleaner.py         # üßπ Script auxiliar para limpar HTML gerado
‚îú‚îÄ‚îÄ docgenv1.py                   # üìÑ Gera√ß√£o de documenta√ß√£o (provavelmente interna/MD) - Vers√£o 1
‚îú‚îÄ‚îÄ docgenv2.py                   # üìÑ Gera√ß√£o de documenta√ß√£o - Vers√£o 2
‚îú‚îÄ‚îÄ docgenv3-webhtmldocgen.py     # üìÑ Gera√ß√£o de documenta√ß√£o em formato HTML - Vers√£o 3
‚îú‚îÄ‚îÄ docgenv3-webhtmldocgenrev.py  # üìÑ Gera√ß√£o de documenta√ß√£o HTML (revisada) - Vers√£o 3 Rev
‚îú‚îÄ‚îÄ Dockerfile                    # üê≥ Instru√ß√µes para construir a imagem Docker (gerado dinamicamente na Action)
‚îú‚îÄ‚îÄ geraprofilesv1.py              # üë§ Script para gerar perfis sint√©ticos - Vers√£o 1 (inicial)
‚îú‚îÄ‚îÄ geraprofilesv2.py              # üë§ Script para gerar perfis sint√©ticos - Vers√£o 2 (evolu√ß√£o)
‚îú‚îÄ‚îÄ geraprofilesv3.py              # üë§ Script para gerar perfis sint√©ticos - Vers√£o 3 (mais est√°vel/usada no Docker)
‚îú‚îÄ‚îÄ heathmap-data-gen-v1.py       # üî• Script para gerar dados/imagem de heatmap - Vers√£o 1
‚îú‚îÄ‚îÄ heathmap-data-gen-v2.py       # üî• Script para gerar dados/imagem de heatmap - Vers√£o 2
‚îú‚îÄ‚îÄ log-dashboard-real-time-v1.py # ‚è±Ô∏è Dashboard de logs em tempo real - Vers√£o 1 (Flask?)
‚îú‚îÄ‚îÄ log-dashboard-real-time-v2.py # ‚è±Ô∏è Dashboard de logs em tempo real - Vers√£o 2
‚îú‚îÄ‚îÄ log-dashboard-real-time-v3.py # ‚è±Ô∏è Dashboard de logs em tempo real - Vers√£o 3
‚îú‚îÄ‚îÄ log-dashboard-real-time-v4.py # ‚è±Ô∏è Dashboard de logs em tempo real - Vers√£o 4 (FastAPI?)
‚îú‚îÄ‚îÄ match-profilerv1.py           # üß© Core do Match Profiler (l√≥gica de similaridade) - Vers√£o 1
‚îú‚îÄ‚îÄ match-profilerv2-web-dash-full.py # üñ•Ô∏è Match Profiler com Dashboard Web completo (Flask?) - V2 Full
‚îú‚îÄ‚îÄ match-profilerv2-web-dash.py    # üñ•Ô∏è Match Profiler com Dashboard Web (Flask?) - V2
‚îú‚îÄ‚îÄ match-profilerv2.py           # üß© Match Profiler (l√≥gica + talvez CLI) - Vers√£o 2
‚îú‚îÄ‚îÄ match-profilerv3-web-dash-full-themes-fastapi.py # üöÄ Match Profiler + Dashboard Web (FastAPI, Temas) - V3 Avan√ßada
‚îú‚îÄ‚îÄ match-profilerv3-web-dash-full-themes.py       # üé® Match Profiler + Dashboard Web (Flask?, Temas) - V3 com Temas
‚îú‚îÄ‚îÄ README.md                     # üìÑ Este arquivo!
‚îú‚îÄ‚îÄ requirements.txt              # (Assumido/Necess√°rio) Lista de depend√™ncias Python
‚îú‚îÄ‚îÄ supervisord.conf              # ‚öôÔ∏è Configura√ß√£o do Supervisor (gerado dinamicamente na Action)
‚îú‚îÄ‚îÄ test-v1-match-profilerv3-web-dash-full-themes.py # ‚úÖ Script de teste para o dashboard V3
‚îî‚îÄ‚îÄ vectorizerv1.py               # üß¨ Script para vetoriza√ß√£o/gera√ß√£o de embeddings - Vers√£o 1

[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/tmp/supervisord.pid

[program:generator]
command=python3 /home/vectorial/app/geraprofilesv3.py
directory=/home/vectorial/app
user=vectorial
autostart=true      ; Inicia automaticamente
autorestart=false   ; N√£o reinicia automaticamente (roda uma vez?)
startsecs=5
exitcodes=0,1       ; C√≥digos de sa√≠da esperados
stopwaitsecs=10
stderr_logfile=/var/log/supervisor/generator.err.log
stdout_logfile=/var/log/supervisor/generator.out.log

[program:profiler]
# Use o script correto aqui (Flask ou FastAPI)
# command=python3 /home/vectorial/app/match-profilerv3-web-dash-full-themes.py
command=python3 /home/vectorial/app/match-profilerv3-web-dash-full-themes-fastapi.py
directory=/home/vectorial/app
user=vectorial
autostart=true      ; Inicia automaticamente
autorestart=true    ; Reinicia se falhar
startsecs=10
stopwaitsecs=60
stderr_logfile=/var/log/supervisor/profiler.err.log
stdout_logfile=/var/log/supervisor/profiler.out.log
# Adicione a porta se necess√°rio (depende de como o script √© iniciado)
# environment=FLASK_RUN_PORT=8881

